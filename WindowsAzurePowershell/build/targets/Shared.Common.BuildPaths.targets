<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<!-- 
	   MSBuildAllProjects is used to specify all projects that this build is dependent on,
	   this ensures that if this file changes it forces a rebuild 
	-->
	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFile)</MSBuildAllProjects>
	</PropertyGroup>
	
	<!-- Setup some important paths that are useful to the build system -->
	<PropertyGroup>
		<RootPath>$([System.IO.Path]::GetFullPath($(MSBuildThisFileDirectory)..\..\..))</RootPath>
		<BuildRoot>$(MSBuildThisFileDirectory)..</BuildRoot>
		<TargetsDirectory>$(MSBuildThisFileDirectory)</TargetsDirectory>
		<BuildFilesPath>$(BuildRoot)\BuildFiles</BuildFilesPath>
	</PropertyGroup>

	<!-- Set Basic Paths -->
	<PropertyGroup>
	    <RootOutputPath>$(RootPath)\Bin\Unsigned\$(ConfigurationType)</RootOutputPath>
		<RootOutputPath Condition="'$(SignAssembly)' == 'true'">$(RootPath)\Bin\Signed\$(ConfigurationType)</RootOutputPath>
		<RootObjPath>$(RootPath)\Obj</RootObjPath>
		<BaseIntermediateOutputPath>$(RootObjPath)\$(Configuration)\$(AssemblyName)</BaseIntermediateOutputPath>
		<IntermediateOutputPath>$(BaseIntermediateOutputPath)</IntermediateOutputPath>
        <GenPath>$(RootObjPath)</GenPath>
		
		<!-- Project Type Files are used to categorize projects by type -->
		<ProjectTypeFilePath>$(GenPath)\ProjectTypeFiles\Unsigned\$(ConfigurationType)</ProjectTypeFilePath>
		<ProjectTypeFilePath Condition="'$(SignAssembly)' == 'true'">$(GenPath)\ProjectTypeFiles\Signed\$(ConfigurationType)</ProjectTypeFilePath>
		
		<!-- The Orgnaized Directory are where files are droped after full build, it should look like you want the files on the client -->
		<RootOrganizedPath>$(RootPath)\Organized</RootOrganizedPath>
		<OrganizedPath>$(RootOrganizedPath)\Unsigned\$(ConfigurationType)</OrganizedPath>
		<OrganizedPath Condition="'$(SignAssembly)' == 'true'">$(RootOrganizedPath)\Signed\$(ConfigurationType)</OrganizedPath>
		
		<!-- The Prepared Path are where pre-install steups are preformed (such as creating an IntegrationPack or an SCVMMAddIn -->
		<RootPreparedPath>$(RootPath)\Prepared</RootPreparedPath>
		<PreparedPath>$(RootPreparedPath)\Unsigned\$(ConfigurationType)</PreparedPath>
		<PreparedPath Condition="'$(SignAssembly)' == 'true'">$(RootPreparedPath)\Signed\$(ConfigurationType)</PreparedPath>

		<!-- The Packaged Path is where the final files (ready for the customer) are placed.  This would generally be an MSI or some install package -->
		<RootPackagedPath>$(RootPath)\Packaged</RootPackagedPath>
		<PackagedPath>$(RootPackagedPath)\Unsigned\$(ConfigurationType)</PackagedPath>
		<PackagedPath Condition="'$(SignAssembly)' == 'true'">$(RootPackagedPath)\Signed\$(ConfigurationType)</PackagedPath>
	</PropertyGroup>

</Project>